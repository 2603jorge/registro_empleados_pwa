<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Registro de Empleados Agrícolas</title>

  <!-- PWA -->
  <link rel="manifest" href="/static/manifest.json" />
  <link rel="icon" href="/static/icon-192.png">
  <meta name="theme-color" content="#0d6efd" />

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/static/service-worker.js')
        .then(reg => console.log("✅ SW registrado"))
        .catch(err => console.error("❌ Error al registrar SW", err));
    }
  </script>
</head>

<body class="p-4">
  <div class="container">
    <h3>
  <img src="/static/icon-192.png" alt="Logo Agricactus" style="height: 32px; vertical-align: middle; margin-right: 8px;">
  Preregistro de Empleados Agricactus
</h3>


    <form method="POST" enctype="multipart/form-data">

      <input class="form-control mb-2" name="nombre" placeholder="Nombre completo" required>
      <input class="form-control mb-2" name="edad" placeholder="Edad" type="number" min="0" required>
      <input class="form-control mb-2" name="curp" placeholder="CURP" required>
      <input class="form-control mb-2" name="rfc" placeholder="RFC">
      <input class="form-control mb-2" name="nss" placeholder="Número de Seguro Social">
      <input class="form-control mb-2" name="telefono" placeholder="Teléfono">
      <textarea class="form-control mb-2" name="direccion" placeholder="Dirección completa"></textarea>

      <select class="form-control mb-2" name="leer_escribir" required>
        <option value="">¿Sabe leer y escribir?</option>
        <option value="Sí">Sí</option>
        <option value="No">No</option>
      </select>

      <select class="form-control mb-2" name="discapacidad">
        <option value="">¿Tiene alguna discapacidad?</option>
        <option value="Ninguna">Ninguna</option>
        <option value="Visual">Visual</option>
        <option value="Auditiva">Auditiva</option>
        <option value="Motriz">Motriz</option>
        <option value="Otra">Otra</option>
      </select>

      <input class="form-control mb-2" name="experiencia" placeholder="Experiencia agrícola específica (Ej. corte, empaque)">
      <input class="form-control mb-2" name="salud" placeholder="Estado de salud (apto, no apto)">
      <input class="form-control mb-2" name="origen" placeholder="Estado de origen">
      <textarea class="form-control mb-2" name="observaciones" placeholder="Observaciones generales"></textarea>

      <select class="form-control mb-2" name="trabajo_previo">
        <option value="">¿Ha trabajado en Agricactus?</option>
        <option value="Sí">Sí</option>
        <option value="No">No</option>
      </select>
      <input class="form-control mb-2" name="año_trabajo" placeholder="Año en que trabajó (si aplica)">
      <input class="form-control mb-2" name="area_trabajo" placeholder="Área donde trabajó (si aplica)">

      <hr/>

      <input class="form-control mb-2" name="contacto_emergencia" placeholder="Nombre de contacto de emergencia">
      <input class="form-control mb-2" name="telefono_emergencia" placeholder="Teléfono de contacto de emergencia">

      <label class="form-label mt-3">📄 INE (Frente):</label>
      <input class="form-control mb-2" type="file" name="ine_frente" accept="image/*" capture="environment">

      <label class="form-label">📄 INE (Reverso):</label>
      <input class="form-control mb-2" type="file" name="ine_reverso" accept="image/*" capture="environment">

      <label class="form-label">📄 CURP (Foto o PDF):</label>
      <input class="form-control mb-2" type="file" name="curp_archivo" accept=".jpg,.jpeg,.png,.pdf" capture="environment">

      <label class="form-label">📄 Acta de nacimiento / Comprobante domicilio:</label>
      <input class="form-control mb-2" type="file" name="documentos" accept="image/*,.pdf" capture="environment">

      <label class="form-label">📸 Foto facial:</label>
      <input class="form-control mb-3" type="file" name="foto" accept="image/*" capture="user">

      <button class="btn btn-success" type="submit">Guardar</button>
    </form>
  </div>

  <!-- La parte de IndexedDB y sincronización permanece igual -->
</body>
</html>
